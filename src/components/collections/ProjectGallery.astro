---
import type { HTMLAttributes } from 'astro/types';
import { Picture } from 'astro:assets';

interface Props extends HTMLAttributes<'section'> {
  description: string,
  heading: string,
  image?: {
    alt: string | null,
    src: ImageMetadata
  }
};

const { description, heading, image, class: className, ...rest }: Props = Astro.props;
---

<section class:list={['mb-6', className]} {...rest} >

  { /* placeholder */ }
  { image && (
    <div class="">
      <Picture
        src={image.src as any}
        widths={[480, 960]}
        sizes={`(max-width: 640px) 480px`}
        inferSize
        formats={['webp']}
        loading="lazy"
        class="object-cover aspect-video rounded-xl"
        alt={image.alt}
      />
    </div>
  )}

</section>
